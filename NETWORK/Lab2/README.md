# Q2. ARP packet을 capture 하고 강의노트에 명시된 방법을 참조해서 Layer 구조를 설명하라

## 각 Layer별 프로토콜을 명시하라



<img width="1440" alt="Question2-1" src="https://user-images.githubusercontent.com/48313074/65780785-6e5d0280-e185-11e9-8476-cb5f7e4a20d8.png">

### ARP(Address Resolution Protocol -주소결정프로토콜)

#### - 네트워크 상에서 IP주소로 대응(bind) 시키기 위해 사용되는 프로토콜이다. 여기서 물리적 네트워크 주소는 ethernet의 48비트 네트워크카드(NIC)주소를 뜻한다. - 위키백과



-ISO 가 만든 7계층 OSI

<img width="800" alt="OSI" src="https://user-images.githubusercontent.com/48313074/65781574-ce07dd80-e186-11e9-89cf-bb7aa9014b51.png">

#### 7 계층 application이 사용자에 대한 서비스를 담당한다.

#### 6계층이 7계층이 요청하는 서비스를 수행한다. 이와 같이 위의 계층이 요청하는 서비스를 하위 계층이 실시한다.

#### 최하위 1계층은 전송매체에 전자기 신호 혹은 광학 신호 를 실어서 최종적으로 수행하게 된다.

5계층이 3계층보다 상위 계층이긴 하지만 직접적인 인터페이스가 없기때문에 상/하위를 구별 해야하는 이유가 없다.

4계층인 Transport계층은 멀리 떨어진 상대방의 컴퓨터의 "Process"에 데이터를 나누어 보내고 이를 받은 상대방 컴퓨터의 Transport 계층은 나누어져 순서 없이 들어온 데이터 조각들을 순서에 맞게 재조합해서 상위 계층으로 보내는 역할을 맡는다.

3계층인 Network계층은 이를 상대방의 컴퓨까지 전달하라는 요청을한다. 3계층은 해당 컴퓨터까지의 경로를 찾아서 실제로 전달하는 역할을 수행한다.

3계층이 경로를 찾아서 전달하기 위해 컴퓨터의 주소정보가 필요하다. 3계층은 고유의 주소체계를 가지고 있어서 4계층이 맡긴 데이터에 3계층 주소등의 정보를 추가로 덧붙여서 보낸다.



<img width="800" alt="Encapsulation" src="https://user-images.githubusercontent.com/48313074/65784465-132f0e00-e18d-11e9-96c2-e4f3591c2ea3.png">

#### 덧붙여진 정보 : 헤더(Header) or 3계층 헤더(Layer 3 header)

#### Encapsulation - 헤더정보를 덧붙여서 새로운 데이터를 만드는 방법

#### Decapsulation - 하위 계층에서 데이터를 전달 받으면 해당 계층이 해야하는 서비스를 다  한후 더이상 필요 없어진 헤더를 없엔다.

#### T2는 2계층에서만 사용되는 Trailer를 의미한다. 헤더와 비슷한 역할을 하지만 payload의 뒤에 붙는다.

## <Internet의 주소 체계>

### -ARP는 3계층의 프로토콜이다 - 상위계층의 데이터를 전달해 주는 역할을 직접 수행하지는 않고 이를 도와주는 역할을한다. 3계층의 주소를 가지고 있는 장비가 2계층의 서비스를 이용해서 해당 목적지 까지 보내려면 2계층의 주소를 알아야하는데 이 2계층의 주소를 알아내는 것이 ARP가 하는 역할이다.

### -우리가 아는 대부분의 네트워크는 TCP/IP프로토콜 or TCP/IP프로토콜 집합을 사용한다. ARP또한 TCP/IP프로토콜 중에 하나이다. TCP/IP는 다섯개의 계층구조를 가지고있다.

<img width="800" alt="TCP:IP" src="https://user-images.githubusercontent.com/48313074/65784990-52119380-e18e-11e9-9d0e-fbe02bc1f63f.png">

### 데이터의 단위

#### -응용계층 : User Data(사용자 데이터)

#### -전송계층 : Segment(세그먼트)

#### -네트워크 계층 : Datagram / Packet 전송계층의 데이터에 헤더를 붙인다.

#### -데이터링크/물리 계층 : Frame

### -페킷이란 전송계층의 segment 네트워크 계층의 datagram/packet 데이터링크/물리계층의 Frame을 총칭하는 데이터의 단위이다.



<img width="800" alt="packet" src="https://user-images.githubusercontent.com/48313074/65785499-7b7eef00-e18f-11e9-9815-e1f7af5d1552.png">

2계층 : 좁은지역(대략 수백 M반경)네에서 상대적으로 한정적인 수의 장비 간 데이터 전달이 목적이다.

3계층 : 지리적으로 광범위한 인터넷의 임의의 지점까지 경로를 찾아서 많은 수의 중계장비 (Router)를 거쳐 전달하는 것이 목적이다.

3계층의 주소는 주소의 값으로 해당 주소를 가지고 있는 노드는 실제 위치를 			   어느정도 알 수 있어야 한다. 하지만 2계층은 굳이 이러지 않아도 된다.

#### ->따라서 2계층과 3계층의 주소 체계가 다르다. 가장 주목할만한부분은 주소의 할당 방법이다.  2계층의 주소 : 네트워크 인터페이스를 만드는 제조업체의 임의의 할당, 3계층의 주소 : 인터페이스의 물리적인위치에 따라 가변적으로 할당하여 준다.











